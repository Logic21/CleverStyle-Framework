// Generated by LiveScript 1.5.0
/**
 * @package   CleverStyle Framework
 * @author    Nazar Mokrynskyi <nazar@mokrynskyi.com>
 * @copyright Copyright (c) 2014-2017, Nazar Mokrynskyi
 * @license   MIT License, see license.txt
 */
(function(){
  var i$, ref$, len$, config, target, data, destination, j$, len1$, i, target_part, index, value, url_lang, new_url;
  for (i$ = 0, len$ = (ref$ = document.head.querySelectorAll('.cs-config')).length; i$ < len$; ++i$) {
    config = ref$[i$];
    target = config.getAttribute('target').split('.');
    data = JSON.parse(config.innerHTML);
    destination = window;
    for (j$ = 0, len1$ = target.length; j$ < len1$; ++j$) {
      i = j$;
      target_part = target[j$];
      if (target_part !== 'window') {
        if (!destination[target_part]) {
          destination[target_part] = {};
        }
        if (i < target.length - 1) {
          destination = destination[target_part];
        } else {
          if (data instanceof Object && !(data instanceof Array)) {
            destination = destination[target_part];
            for (index in data) {
              value = data[index];
              destination[index] = value;
            }
          } else {
            destination[target_part] = data;
          }
        }
      }
    }
  }
  if (document.URL.indexOf(document.baseURI.substr(0, document.baseURI.length - 1)) !== 0) {
    url_lang = document.baseURI.split('/')[3];
    new_url = location.href.split('/');
    new_url.splice(3, !new_url[3] ? 1 : 0, url_lang);
    new_url = new_url.join('/');
    history.replaceState({}, document.title, new_url);
  }
}).call(this);
