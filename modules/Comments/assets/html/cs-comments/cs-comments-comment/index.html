<dom-module id="cs-comments-comment"><link rel="import" href="style.css" type="css"><template><style include="advanced-styles"></style><div><div id="img" style="background-image: url([[comment.avatar]]);"></div></div><div><div class="details"><div class="header"><span>[[comment.username]]</span><time datetime$="[[date_iso8601]]">[[date]]</time><a href="[[location]]#comment_[[comment.id]]"><cs-icon icon="anchor"></cs-icon></a><a href="[[location]]#comment_[[comment.parent]]" on-tap="_scroll_to_parent" hidden="[[!and(comment.parent)]]"><cs-icon icon="level-up"></cs-icon></a><cs-icon class="cs-cursor-pointer" icon="pencil" on-tap="_edit" hidden="[[!comment.can_edit]]"></cs-icon><cs-icon class="cs-cursor-pointer" icon="trash-o" on-tap="_delete" hidden="[[!comment.can_delete]]"></cs-icon></div><div id="text" inner-h-t-m-l="[[comment.text]]" on-tap="_reply" hidden="[[editing]]" can-reply$="[[comment.can_reply]]"></div><template is="dom-if" if="[[editing]]"><cs-editor-simple value="{{comment.edited_text}}"><textarea is="cs-textarea" autosize value="{{comment.edited_text}}"></textarea></cs-editor-simple><p><cs-button><button type="button" on-tap="_save_edit">[[L.save]]</button></cs-button> <cs-button><button type="button" on-tap="_cancel_edit">[[L.cancel]]</button></cs-button></p></template></div><div class="children"><template is="dom-if" if="[[replying]]"><cs-editor-simple value="{{reply.text}}"><textarea is="cs-textarea" autosize value="{{reply.text}}"></textarea></cs-editor-simple><p><cs-button><button type="button" on-tap="_post_reply">[[L.send_comment]]</button></cs-button> <cs-button><button type="button" on-tap="_cancel_reply">[[L.cancel]]</button></cs-button></p></template><template is="dom-repeat" items="[[comment.children]]"><cs-comments-comment comment="[[item]]" id="comment_[[item.id]]" parent-comment="[[_this]]" children$="[[and(item.parent)]]" parent$="[[and(item.children.length)]]"></cs-comments-comment></template></div></div></template><script src="script.js"></script></dom-module>