include ../_settings_mixins
dom-module#cs-system-admin-optimization
	template
		style(include="advanced-styles")
		cs-form: form.cs-text-center
			+on-off-switcher("cache_compress_js_css")
			+on-off-switcher("frontend_load_optimization", "equal(settings.cache_compress_js_css, 0)")
			+on-off-switcher("vulcanization", "equal(settings.cache_compress_js_css, 0)")
			+on-off-switcher("put_js_after_body")
			+on-off-switcher("disable_webcomponents", "simple_admin_mode")
			+input("inserts_limit", "simple_admin_mode", "number", 1)
			+input("update_ratio", "simple_admin_mode", "number", 0, 100)
			p
				cs-input-text(compact tight): input(value="{{path_prefix}}" placeholder="[[L.partial_cache_cleaning]]")
				cs-button: button(type="button" disabled="[[equal(settings.cache_state, 0)]]" on-tap="_clean_cache") [[L.clean_settings_cache]]
			cs-button: button(type="button" disabled="[[equal(settings.cache_compress_js_css, 0)]]" on-tap="_clean_public_cache") [[L.clean_scripts_styles_cache]]
			+footer-buttons
	script(src="script.js")
