// Generated by LiveScript 1.4.0
/**
 * @package   Shop
 * @category  modules
 * @author    Nazar Mokrynskyi <nazar@mokrynskyi.com>
 * @copyright Copyright (c) 2014-2016, Nazar Mokrynskyi
 * @license   MIT License, see license.txt
 */
(function(){
  Polymer({
    'is': 'cs-shop-order-item',
    properties: {
      item_id: Number,
      price: Number,
      unit_price: Number,
      units: Number
    },
    ready: function(){
      var img, href, discount, this$ = this;
      img = this.querySelector('#img');
      this.$.img.src = img.src;
      this.$.img.title = img.title;
      href = this.querySelector('#link').href;
      if (href) {
        this.$['img-link'].href = href;
        this.$.link.href = href;
      }
      this.item_title = this.querySelector('#link').innerHTML;
      this.unit_price_formatted = sprintf(cs.shop.settings.price_formatting, this.unit_price);
      this.price_formatted = sprintf(cs.shop.settings.price_formatting, this.price);
      discount = this.units * this.unit_price - this.price;
      if (discount) {
        discount = sprintf(cs.shop.settings.price_formatting, discount);
        cs.Language('shop_').ready().then(function(L){
          this$.$.discount.textContent = "(" + L.discount + ": " + discount + ")";
        });
      }
    }
  });
}).call(this);
