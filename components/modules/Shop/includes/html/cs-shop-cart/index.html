<dom-module id="cs-shop-cart">
  <template>
    <h1 class="cs-text-center">[[L.shop_your_cart]]</h1>
    <content select="#items"></content>
    <div class="uk-form uk-form-stacked cs-margin-top">
      <p class="uk-form-row">
        <label class="uk-form-label">[[L.shop_shipping_type]]</label>
        <select is="cs-select" value="{{shipping_type::change}}">
          <template as="type" is="dom-repeat" items="[[shipping_types]]">
            <option selected$="[[equal(type.id, shipping_type)]]" value="[[type.id]]">[[type.title]]</option>
          </template>
        </select>
        <span>[[concat('(', shipping_cost_formatted, ')')]]</span>
      </p>
      <p class="uk-form-row" hidden$="[[!shipping_type_details.description]]">[[shipping_type_details.description]]</p>
      <p class="uk-form-row">
        <label class="uk-form-label">[[L.shop_shipping_username]]</label>
        <input class="uk-form-width-large" type="text" value="{{shipping_username::input}}">
      </p>
      <p class="uk-form-row" hidden$="[[!equal(shipping_type_details.phone_needed, 1)]]">
        <label class="uk-form-label">[[L.shop_phone]]</label>
        <input class="uk-form-width-large" type="text" value="{{phone::input}}">
      </p>
      <p class="uk-form-row" hidden$="[[!equal(shipping_type_details.address_needed, 1)]]">
        <label class="uk-form-label">[[L.shop_address]]</label>
        <textarea autosize class="uk-form-width-large" is="cs-textarea" value="{{address::input}}"></textarea>
      </p>
      <p class="uk-form-row">
        <label class="uk-form-label">[[L.shop_comment]]</label>
        <textarea autosize class="uk-form-width-large" is="cs-textarea" value="{{comment::input}}"></textarea>
      </p>
      <p class="uk-form-row" hidden$="[[equal(payment_methods.length, 1)]]">
        <label class="uk-form-label">[[L.shop_payment_method]]</label>
        <select is="cs-select" value="{{payment_method::change}}">
          <template as="details" is="dom-repeat" items="[[payment_methods]]">
            <option value="[[details.method]]">[[details.title]]</option>
          </template>
        </select>
      </p>
      <p class="uk-form-row" id="payment_method_description"></p>
      <template if="[[!registration_required]]" is="dom-if">
        <button is="cs-button" on-click="finish_order" primary type="button">[[L.shop_finish_order]]</button>
      </template>
      <template if="[[registration_required]]" is="dom-if">
        <p class="uk-alert uk-alert-warning">[[L.shop_register_to_finish_order]]</p>
        <button disabled is="cs-button" type="button">[[L.shop_finish_order]]</button>
      </template>
    </div>
  </template>
  <script src="script.js"></script>
</dom-module>
