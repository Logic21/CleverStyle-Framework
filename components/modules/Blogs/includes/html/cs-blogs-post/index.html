<dom-module id="cs-blogs-post">
  <template>
    <style include="basic-styles"></style>
    <header>
      <a hidden$="[[!can_edit]]" href="[[concat('/Blogs/edit_post/', jsonld.id)]]" icon="pencil" is="cs-link-button" tooltip="[[L.edit]]"></a>
      <a hidden$="[[!can_delete]]" href="[[concat('/admin/Blogs/delete_post/', jsonld.id)]]" icon="trash" is="cs-link-button" tooltip="[[L.delete]]"></a>
      <h1>[[jsonld.title]]</h1>
      <template if="[[jsonld.articleSection.length]]" is="dom-if">
        <p>
          <cs-icon icon="bookmark"></cs-icon>
          <template as="section" is="dom-repeat" items="[[jsonld.articleSection]]">
            <a href="[[sections_path(index)]]">[[section]]</a>
          </template>
        </p>
      </template>
    </header>
    <div id="content"></div>
    <footer>
      <template if="[[jsonld.tags.length]]" is="dom-if">
        <p>
          <cs-icon icon="tags"></cs-icon>
          <template as="tag" is="dom-repeat" items="[[jsonld.tags]]">
            <a href="[[tags_path(index)]]" rel="tag">[[tag]]</a>
          </template>
        </p>
      </template>
      <hr>
      <p>
        <time>[[jsonld.datetime]]</time>
        <a href="[[jsonld.author.url]]">
          <cs-icon icon="user"></cs-icon>
          <span>[[jsonld.author.name]]</span>
        </a>
        <template if="[[comments_enabled]]" is="dom-if">
          <cs-icon icon="comments"></cs-icon>
          <span>[[jsonld.comments_count]]</span>
        </template>
      </p>
    </footer>
  </template>
  <script src="script.js"></script>
</dom-module>
