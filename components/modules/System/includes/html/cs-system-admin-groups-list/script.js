// Generated by CoffeeScript 1.9.3

/**
 * @package    CleverStyle CMS
 * @subpackage System module
 * @category   modules
 * @author     Nazar Mokrynskyi <nazar@mokrynskyi.com>
 * @copyright  Copyright (c) 2015, Nazar Mokrynskyi
 * @license    MIT License, see license.txt
 */

(function() {
  var L;

  L = cs.Language;

  Polymer({
    tooltip_animation: '{animation:true,delay:200}',
    L: L,
    groups: [],
    created: function() {
      return this.groups = JSON.parse(this.querySelector('script').innerHTML);
    },
    domReady: function() {
      return $(this.shadowRoot).cs().tooltips_inside();
    },
    edit_permissions: function(event, detail, sender) {
      var $sender, group, index, title;
      $sender = $(sender);
      index = $sender.closest('[data-group-index]').data('group-index');
      group = this.groups[index];
      title = L.permissions_for_group(group.title);
      return $.cs.simple_modal("<h2>" + title + "</h2>\n<cs-system-admin-permissions-for group=\"" + group.id + "\" for=\"group\"/>");
    }
  });

}).call(this);
