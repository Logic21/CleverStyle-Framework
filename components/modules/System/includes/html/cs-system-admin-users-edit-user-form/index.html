<dom-module id="cs-system-admin-users-edit-user-form">
  <link href="style.css" rel="import" type="css">
  <template>
    <h2 class="uk-text-center" hidden$="[[user_data.id]]">
      <cs-icon icon="spinner" spin></cs-icon>
    </h2>
    <template if="{{user_data.id}}" is="dom-if">
      <div class="uk-form uk-form-stacked">
        <label class="uk-form-label">id</label>
        <p>[[user_data.id]]</p>
        <label class="uk-form-label">[[L.registration_date]]</label>
        <p>[[user_data.reg_date_formatted]]</p>
        <label class="uk-form-label">[[L.registration_ip]]</label>
        <p>[[user_data.reg_ip_formatted.0]]</p>
        <template if="[[user_data.reg_ip_formatted.1]]" is="dom-if">
          <p>[[user_data.reg_ip_formatted.1]]</p>
        </template>
        <label class="uk-form-label">[[L.login]]</label>
        <input type="text" value="{{user_data.login::input}}">
        <label class="uk-form-label">[[L.username]]</label>
        <input type="text" value="{{user_data.username::input}}">
        <label class="uk-form-label">[[L.email]]</label>
        <input type="email" value="{{user_data.email::input}}">
        <label class="uk-form-label">
          <span>[[L.password_only_for_changing]]</span>
        </label>
        <div class="uk-form-icon uk-width-1-1">
          <div class="uk-icon-lock cs-pointer" on-click="show_password"></div>
          <input id="password" type="password" value="{{user_data.password::input}}">
        </div>
        <label class="uk-form-label">[[L.language]]</label>
        <select is="cs-select" size="5" value="{{user_data.language::change}}">
          <template as="language" is="dom-repeat" items="[[languages]]">
            <option selected$="[[equal(language.clanguage, user_data.language)]]" value="[[language.clanguage]]">[[language.description]]</option>
          </template>
        </select>
        <label class="uk-form-label">[[L.timezone]]</label>
        <select is="cs-select" size="7" value="{{user_data.timezone::change}}">
          <template as="timezone" is="dom-repeat" items="[[timezones]]">
            <option selected$="[[equal(timezone.timezone, user_data.timezone)]]" value="[[timezone.timezone]]">[[timezone.description]]</option>
          </template>
        </select>
        <label class="uk-form-label">[[L.status]]</label>
        <div class="uk-button-group" data-uk-button-radio>
          <label class$="[[status_class(-1)]]" on-click="status_change">
            <input checked$="[[status_state(-1)]]" type="radio" value="-1">
            <span>[[L.is_not_activated]]</span>
          </label>
          <label class$="[[status_class(0)]]" on-click="status_change">
            <input checked$="[[status_state(0)]]" type="radio" value="0">
            <span>[[L.inactive]]</span>
          </label>
          <label class$="[[status_class(1)]]" on-click="status_change">
            <input checked$="[[status_state(1)]]" type="radio" value="1">
            <span>[[L.active]]</span>
          </label>
        </div>
        <label class="uk-form-label" tooltip="[[L.block_until_info]]">
          <span>[[L.block_until]]</span>
          <cs-tooltip></cs-tooltip>
        </label>
        <input type="datetime-local" value="{{block_until::input}}">
        <label class="uk-form-label">[[L.avatar]]</label>
        <input type="text" value="{{user_data.avatar::input}}">
        <p>
          <button class="uk-button uk-button-primary" on-click="save">[[L.save]]</button>
        </p>
      </div>
    </template>
  </template>
  <script src="script.js"></script>
</dom-module>
