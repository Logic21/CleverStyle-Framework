<dom-module id="cs-system-admin-permissions-for">
  <template>
    <style include="advanced-styles"></style>
    <h2 class="cs-text-center" hidden$="[[all_permissions.length]]">
      <cs-icon icon="spinner" spin></cs-icon>
    </h2>
    <form id="form" is="cs-form">
      <template as="permission" is="dom-repeat" items="[[all_permissions]]">
        <legend>[[permission.group]]</legend>
        <div>
          <p class="cs-text-left">
            <button is="cs-button" on-click="invert" type="button">[[L.invert]]</button>
            <button is="cs-button" on-click="allow_all" type="button">[[L.allow_all]]</button>
            <button is="cs-button" on-click="deny_all" type="button">[[L.deny_all]]</button>
          </p>
          <table class="cs-table" right-left>
            <template as="label" is="dom-repeat" items="[[permission.labels]]">
              <tr>
                <td>[[label.name]]</td>
                <td>
                  <nav is="cs-nav-button-group">
                    <label is="cs-label-button">
                      <input checked="[[permission_state(label.id, -1)]]" name$="[[concat('permissions[', label.id, ']')]]" type="radio" value="-1">
                      <span>[[L.inherited]]</span>
                    </label>
                    <label is="cs-label-button">
                      <input checked="[[permission_state(label.id, 0)]]" name$="[[concat('permissions[', label.id, ']')]]" type="radio" value="0">
                      <span>[[L.deny]]</span>
                    </label>
                    <label is="cs-label-button">
                      <input checked="[[permission_state(label.id, 1)]]" name$="[[concat('permissions[', label.id, ']')]]" type="radio" value="1">
                      <span>[[L.allow]]</span>
                    </label>
                  </nav>
                </td>
              </tr>
            </template>
          </table>
        </div>
      </template>
    </form>
    <button is="cs-button" on-click="save" primary type="button">[[L.save]]</button>
  </template>
  <script src="script.js"></script>
</dom-module>
