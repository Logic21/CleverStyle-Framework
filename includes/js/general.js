// Generated by CoffeeScript 1.9.3

/**
 * @package		CleverStyle CMS
 * @author		Nazar Mokrynskyi <nazar@mokrynskyi.com>
 * @copyright	Copyright (c) 2011-2015, Nazar Mokrynskyi
 * @license		MIT License, see license.txt
 */

(function() {
  $(function() {
    var L;
    L = cs.Language;
    $.ajaxSetup({
      type: 'post',
      error: function(xhr) {
        return cs.ui.notify(xhr.responseText ? JSON.parse(xhr.responseText).error_description : L.connection_error.toString(), 'warning', 5);
      }
    });
    $('#current_password').click(function() {
      var password;
      password = $('.cs-profile-current-password');
      if (password.prop('type') === 'password') {
        password.prop('type', 'text');
        return this.icon = 'unlock';
      } else {
        password.prop('type', 'password');
        return this.icon = 'lock';
      }
    });
    $('#new_password').click(function() {
      var password;
      password = $('.cs-profile-new-password');
      if (password.prop('type') === 'password') {
        password.prop('type', 'text');
        return this.icon = 'unlock';
      } else {
        password.prop('type', 'password');
        return this.icon = 'lock';
      }
    });
    $('.cs-profile-change-password').click(function() {
      return cs.change_password($('.cs-profile-current-password').val(), $('.cs-profile-new-password').val());
    });
  });

}).call(this);
