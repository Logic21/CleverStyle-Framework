(function(d){var e,o="";var a;var c=[];var r=0;var q=false;var i=[];var j=jQuery.fn.css;jQuery.fn.css=function(v,x){var w=o+"display";var u=o+"position";var t=false,A=false;if(x){if(v==w&&x.indexOf('"')!=-1){t=true}else{if(v==u&&x.length==1){A=true}else{return j.apply(this,arguments)}}var z=this;var y;d.each(a,function(C,B){if(t){if(z.is(C)){y=C}}else{d.each(B.chars,function(D,E){if(z.is(E.selector)){y=E.selector}})}});d.each(i,function(B,C){if(C.selector==y){if(t){C.properties[w]=x}else{if(A){C.properties[u]=x}}}});b(i);k();return false}else{return j.apply(this,arguments)}};d.templateLayoutShowOnReady=function(){document.write("<style> body {visibility:hidden} </style>");q=true};d.setTemplateLayout=function(u,t){if(l()){p();return}setTimeout(function(){d(window).resize(k)},100);if(typeof u=="string"){u={file:u}}if(t){u.prefix=t}if(u){if(u.prefix){o="-"+u.prefix+"-"}if(u.delay){r=u.delay}if(u.fallback){d("."+u.fallback).remove()}}if(!u){n()}else{e="";if(u.text){e=u.text;d("head").append("<style>"+e+"</style>")}if(u.file){d.get(u.file,function(v){e+=v;k()})}if(!u.file&&!e){n();return}if(e){k()}}};d.redoTemplateLayout=k;function p(){if(q){d("body").css("visibility","visible");q=false}}function n(){var t=d("style");if(!t.length){return}if(t.text()){e=t.text();k()}else{d.get(document.location.href,function(v){var u=v.match(/<style.*?>([\s\S]*?)<\/style>/);e=u?u[1]:"";k()})}}function f(){e=e.replace(/\/\*[\s\S]*?\*\//g,"");var t=e.split("}");d.each(t,function(){var w=d.trim(this);if(!w){return}var u=h(w);if(!u){return}if(u.selector.indexOf(",")!=-1){var v=u.selector.split(",");d.each(v,function(x,y){i.push({selector:d.trim(y),properties:u.properties})})}else{i.push(u)}});return i}function h(x){if(x.indexOf("@")===0||x.indexOf("{")==-1){return false}var w=x.split("{");var v=d.trim(w[0]);var t=w[1].split(";");var u={};d.each(t,function(){var z=this.split(":");var y=d.trim(z[0]).toLowerCase();u[y]=d.trim(z[1])});return{selector:v,properties:u}}function g(E){var B=E.replace(/\n|\r/g," ");var C=B.split('"');var H=[];var v=[];var y={};for(var x=2,w=C.length;x<w;x+=2){var t=C[x];var G="auto";if(t.indexOf("/")!=-1){var D=t.match(/\/\s*(\S+)(.*)/);G=d.trim(D[1])}if(d.trim(t)&&x==w-1){var F=d.trim(C[w-1]).replace(/^\/\s*\S+\s*/,"");if(F&&F.indexOf("/")==-1){if(F.indexOf("(")!=-1){var u=F.match(/minmax(\(.*?\))/g);d.each(u,function(J,I){var K=I.replace(/\s*/g,"");F=F.replace(I,K)})}F=F.replace(/\(\)/,"");v=F.split(/\s+/)}}var A=C[x-1].replace(/[^a-z@\.]/gi,"");A=d.trim(A).split("");d.each(A,function(){y[this]=true});if(G.indexOf("-")==0){return false}H.push({chars:A,height:G})}var z=H[0].chars.length;while(v.length>z){v.pop()}while(v.length<z){v.push("*")}return{rows:H,widths:v,chars:y}}function b(x){var w={};var u={};var t=0;var v=[];d.each(x,function(y,J){var H=J.properties;var C=J.selector;var z=o+"display";var B=o+"position";var F=false;if(C.indexOf("::slot(")!=-1){var G=C.match(/slot\((.)\)/);if(G&&G.length>1){var A=G[1];var I=C.split("::slot")[0];var E={};d.each(H,function(L,M){if(L.indexOf("background")==0||L.indexOf("overflow")!=-1||L.indexOf("vertical-align")!=-1){E[L]=M}});u[I+"|"+A]=E}}if(H[B]&&H[B].length==1){var D=H[B];w[C]={chr:D,props:H};F=true}else{if(H[B]=="same"){c.push(C)}}if(H[z]&&H[z].indexOf('"')!=-1){var K=g(H[z]);if(!K){return}v.push({sel:C,rows:K.rows,widths:K.widths,chars:K.chars,properties:H,pseudo_props:{},num:t,slotEl:F});t++}});v.sort(function(z,y){return !y.slotEl});d.each(v,function(z,y){a[y.sel]=y});d.each(w,function(C,E){var A=false;var D=false;d.each(a,function(F,H){if(F==C){w[F].tplEl=true}if(!H.chars[E.chr]){return}var G=d(C).parents();if(G.is(F)){var J;var I=0;G.each(function(){if(G[I]==d(F)[0]){J=I}I++});if(A===false||J<A){A=J;D=F}}});var y=E.tplEl||false;if(D){var z=D+"|"+E.chr;var B=u[z]||false;a[D].chars[E.chr]={selector:C,props:E.props,pseudo_props:B,tplEl:y,cur_sel:D}}})}function l(){var w='"@"';var v=d("<p></p>");var t=true;try{v.get(0).style.display=w}catch(u){t=false}t=t&&(v.css("display")==w);v.remove();return t}function s(Q,N){var P=Q.widths;var C=Q.rows;var F=Q.properties;var D=[],O={};var w=d(N);var E=Q.chars;d.each(E,function(R,S){if(S!==true){S.slot_w=1;S.slot_h=1}});Q.margins=0;function J(U,T){var R=[];d.each(E,function(X,Y){var W=Y.props.width||"auto";if(Y.col==U&&Y.slot_w==1){var V=z({width:W,top:"auto",left:"auto"},Y.el.clone()).w;R.push(V)}});var S=T.split("-")[0];return Math[S].apply({},R)}function z(U,S){var R=d("<div></div>");R.css({visibility:"hidden",margin:0,padding:0,position:"absolute"});if(S){R.append(S)}if(U){R.css(U)}w.append(R);var T={w:R.width(),h:R.height()};R.remove();return T}function G(U,S,W){var T="auto",R="auto";if(U=="h"){R=S}else{T=S;if(T=="min-content"||T=="max-content"){return J(W,T)}}var V=z({height:R,width:T});return V[U]}function H(U){var S=0;for(var T=0;T<=U.row;T++){if(O[T][U.col]>0){S+=O[T][U.col];return S}}var R=parseInt(U.el.css("margin-top"));if(R<0){S-=R}return S}function L(S,R,U){var V=E[R].props[S]+"";var T=V;if(V.indexOf("%")!=-1&&S=="width"){T=U*parseInt(V)/100}return T}function x(W){var V=0;for(var S=W.col;S<W.slot_w+W.col;S++){V+=D[S]}var U=W.el.outerWidth(true)-W.el.width();if(U){V-=U}if(W.tplEl){if(C[W.row].height&&C[W.row].height!="*"){a[W.selector].properties.height=C[W.row].height}a[W.selector].properties.width=V;var T=new s(a[W.selector],W.selector);var R=T.make();W.genHeight=R.height;return R.width}return V}function v(R){var S=R.clone();S.each(function(){d(this).css("position","static")});return z(0,S).h}function B(){if(Q.slotEl){F.height=w.height()}if(F.height){w.height(F.height);var R=w.height()}else{var U=0}var V=0;var T=[];d.each(E,function(X,Y){d.each(E,function(Z,aa){if(O[Y.row]===undefined){O[Y.row]={}}if(aa.col==Y.col){if(O[Y.row][Y.col]===undefined){O[Y.row][Y.col]=0}if(aa.row<Y.row){O[Y.row][Y.col]+=aa.el.outerHeight(true)}}})});d.each(C,function(Y,Z){var X=-1;d.each(E,function(aa,ab){if(T[ab.col]===undefined){T[ab.col]=0}if(X!=Y){X=Y;S=0}if(ab.row==Y){if(ab.props.height){ab.el.height(ab.props.height)}else{ab.el.height("auto")}T[ab.col]+=ab.el.outerHeight()}});if(F.height&&F.height!="auto"){V++}});for(var S=0;S<T.length;S++){U=Math.max(U,T[S])}if(V){var W=R/V;d.each(C,function(X,Y){if(Y.height=="*"||Y.height=="auto"){O[X]=W}})}else{w.height(U+parseInt(w.css("padding-bottom")))}}function K(){var U=0;var T=0;if(Q.slotEl){w.width(w.width())}var S=w.width();D=[];d.each(P,function(Y,W){if(W=="fit-content"){W=P[Y]="minmax(min-content,max-content)"}if(W=="*"||W=="auto"){T++;U=0}else{if(W.indexOf("minmax")===0){var Z=W.match(/\((.*?),(.*?)\)/);var X=Z[1];var V=Z[2];U=G("w",V,Y);S-=U}else{U=G("w",W,Y);S-=U}}D.push(U)});if(S<0){d.each(P,function(Y,W){if(W.indexOf("minmax")!=-1){var Z=W.match(/\((.*?),(.*?)\)/);var X=Z[1];var V=G("w",X,Y);D[Y]+=S;S=0;if(D[Y]<V){D[Y]=V}}})}var R=S/T;d.each(P,function(W,V){if(V=="*"||V=="auto"){D[W]=R}})}function u(U,T){var R=T||parseInt(U.el.parent().css("padding-top").replace("px",""));if(E["@"]&&!U.isHolder){R=-1*G("h",w.css("top"))}for(var S=0;S<=U.row;S++){if(O[S][U.col]>0){R+=O[S][U.col];return R}}return R}function M(T){var S=T.col;var R=0;if(E["@"]&&!T.isHolder){R=-1*G("w",w.css("left"))}d.each(D,function(U){if(U<S){R+=this}});return R}function t(R){d.each(c,function(S,U){var T=d(U);T.each(function(){var W=d(this);var V=false;R.el.each(function(){var X=d(this);if(!V){V=X}else{V[V.length++]=X[0]}if(X.next()[0]==W[0]){V[V.length++]=W[0]}});if(V.length>1){R.el=V;R.multi=true}})})}function y(){var R=false;var T={};if(w.is("body")){return}d.each(F,function(W,X){if(W.indexOf("background")===0){R=true;T[W]=X}});if(!R){return}var V="jq_tpl_bg-"+Q.num;var U=w.offset();var S=d("#"+V);if(!S.length){S=d('<div id="'+V+'"></div>');S.css(T)}S.css({"z-index":-2,position:"absolute",top:U.top,left:U.left,width:w.width(),height:w.height()});d("body").append(S)}function A(U,aa){if(aa.pseudo_props){var T=aa.el.offset();var S="jq_tpl"+Q.num+"_slot-"+U;var ab=d("#"+S);var X=aa.pseudo_props;var V=d("body");if(!ab.length){ab=d('<div id="'+S+'"></div>');V.append(ab)}var ac=aa.el.outerWidth(true);var W=H(aa);ab.css({display:"block",position:"absolute","z-index":(Q.num-10),top:T.top,left:T.left,width:ac,height:W});if(V.is(N)){if(!Q.margins){var R=d('<p style="position:static;margin:0;display:block;visibility:hidden;"></p>');w.append(R);Q.margins=R.offset();Q.margins.left-=parseFloat(w.css("padding-left"));Q.margins.top-=parseFloat(w.css("padding-top"));R.remove()}ab.css("left",T.left-Q.margins.left);ab.css("top",T.top-Q.margins.top)}ab.css(X);if(X["vertical-align"]){var Z=0;var Y=X["vertical-align"];switch(Y){case"middle":Z=W/2-aa.el.height()/2;break;case"bottom":Z=W-aa.el.height();break;case"baseline":Z=W-aa.el.height();break;default:break}aa.el.css("top",u(aa)+Z)}}}function I(){d.each(C,function(R,S){d.each(S.chars,function(T,U){if(U=="."){return}if(U=="@"){E["@"]={selector:N,isHolder:true}}var V=E[U];V.el=d(V.selector);if(T>0&&S.chars[T-1]==U){if(V.slot_h==1){V.slot_w++}}if(R>0&&C[R-1].chars[T]==U){V.slot_h++}if(isNaN(V.row)){V.row=R}if(isNaN(V.col)){V.col=T}if(!V.el.parents().is(N)&&!V.el.is(N)){return}if(V.el.length>1){V.multi=true}t(V)})});delete E["."]}this.make=function(){w.css("position","relative");I();K();if(E["@"]){E["@"].el.css("left",M(E["@"]))}d.each(E,function(T,U){var S=U.el;var R=x(U);if(U.props.width){R=L("width",T,R)}S.css({display:"block",position:"absolute",width:R});S.css("left",M(U))});B();if(E["@"]){E["@"].el.css("top",u(E["@"]))}d.each(E,function(T,W){if(W.tplEl){a[W.selector].genTop=u(W)}var S=u(W);var V=H(W);var R=S;var U=false;if(W.pseudo_props){if(W.pseudo_props.overflow=="hidden"){U=true}}W.el.each(function(X){if(X>0){R+=W.el.eq(X-1).outerHeight(true)}d(this).css("top",R);if(W.props.height){V=L("height",T,V);d(this).height(V)}if(U){var Y=V-R+S;var aa=(R-S>V);var Z=(W.el.height()+R-S>V);if(aa||Z){d(this).height(aa?0:Y);d(this).css("overflow","hidden")}}});if(W.tplEl){W.el.height(H(W))}A(T,W)});y();if(Q.genTop&&E["@"]){E["@"].el.css("top",u(E["@"],Q.genTop))}return{height:w.height(),width:w.width()}}}function m(w,u){var v=new s(u,w);v.make()}function k(){a={};i=f();b(i);setTimeout(function(){d.each(a,m);p()},r);r=0}})(jQuery);